{"version":3,"sources":["../src/pages.tsx"],"sourcesContent":["// deno-ts-ignore-file\r\n// deno-lint-ignore-file\r\n/* eslint-disable no-var */\r\n/* eslint-disable max-len */\r\n/* eslint-disable prefer-const */\r\n\r\nimport * as PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport * as NProgress from 'nprogress';\r\nimport { NextTopLoaderProps } from '.';\r\nimport Router from 'next/router';\r\nexport const PagesTopLoader = ({\r\n  color: propColor,\r\n  height: propHeight,\r\n  showSpinner,\r\n  crawl,\r\n  crawlSpeed,\r\n  initialPosition,\r\n  easing,\r\n  speed,\r\n  shadow,\r\n  template,\r\n  zIndex = 1600,\r\n  showAtBottom = false,\r\n}: NextTopLoaderProps): JSX.Element => {\r\n  const defaultColor = '#29d';\r\n  const defaultHeight = 3;\r\n\r\n  const color = propColor ?? defaultColor;\r\n  const height = propHeight ?? defaultHeight;\r\n\r\n  // Any falsy (except undefined) will disable the shadow\r\n  const boxShadow =\r\n    !shadow && shadow !== undefined\r\n      ? ''\r\n      : shadow\r\n      ? `box-shadow:${shadow}`\r\n      : `box-shadow:0 0 10px ${color},0 0 5px ${color}`;\r\n\r\n  // Check if to show at bottom\r\n  const positionStyle = showAtBottom ? 'bottom: 0;' : 'top: 0;';\r\n  const spinnerPositionStyle = showAtBottom ? 'bottom: 15px;' : 'top: 15px;';\r\n\r\n  /**\r\n   * CSS Styles for the NextTopLoader\r\n   */\r\n  const styles = (\r\n    <style>\r\n      {`#nprogress{pointer-events:none}#nprogress .bar{background:${color};position:fixed;z-index:${zIndex};${positionStyle}left:0;width:100%;height:${height}px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;${boxShadow};opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:${zIndex};${spinnerPositionStyle}right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:2px solid transparent;border-top-color:${color};border-left-color:${color};border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}`}\r\n    </style>\r\n  );\r\n\r\n  React.useEffect((): ReturnType<React.EffectCallback> => {\r\n    NProgress.configure({\r\n      showSpinner: showSpinner ?? true,\r\n      trickle: crawl ?? true,\r\n      trickleSpeed: crawlSpeed ?? 200,\r\n      minimum: initialPosition ?? 0.08,\r\n      easing: easing ?? 'ease',\r\n      speed: speed ?? 200,\r\n      template:\r\n        template ??\r\n        '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>',\r\n    });\r\n\r\n    const progressStarted = () => NProgress.start();\r\n    const progressComplete = () => NProgress.done(true);\r\n\r\n    Router.events.on('routeChangeStart', progressStarted);\r\n    Router.events.on('routeChangeComplete', progressComplete);\r\n    Router.events.on('routeChangeError', progressComplete);\r\n\r\n    return () => {\r\n      // Clean up the global click event listener when the component is unmounted\r\n      Router.events.off('routeChangeStart', progressStarted);\r\n      Router.events.off('routeChangeComplete', progressComplete);\r\n      Router.events.off('routeChangeError', progressComplete);\r\n    };\r\n  }, []);\r\n\r\n  return styles;\r\n};\r\n\r\nPagesTopLoader.propTypes = {\r\n  color: PropTypes.string,\r\n  height: PropTypes.number,\r\n  showSpinner: PropTypes.bool,\r\n  crawl: PropTypes.bool,\r\n  crawlSpeed: PropTypes.number,\r\n  initialPosition: PropTypes.number,\r\n  easing: PropTypes.string,\r\n  speed: PropTypes.number,\r\n  template: PropTypes.string,\r\n  shadow: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n  zIndex: PropTypes.number,\r\n  showAtBottom: PropTypes.bool,\r\n};\r\n"],"mappings":"gmBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,oBAAAE,IAAA,eAAAC,EAAAH,GAMA,IAAAI,EAA2B,yBAC3BC,EAAuB,oBACvBC,EAA2B,wBAE3BC,EAAmB,0BACZ,IAAMC,EAAiBC,EAAA,CAAC,CAC7B,MAAOC,EACP,OAAQC,EACR,YAAAC,EACA,MAAAC,EACA,WAAAC,EACA,gBAAAC,EACA,OAAAC,EACA,MAAAC,EACA,OAAAC,EACA,SAAAC,EACA,OAAAC,EAAS,KACT,aAAAC,EAAe,EACjB,IAAuC,CACrC,IAAMC,EAAe,OAGfC,EAAQb,GAAA,KAAAA,EAAaY,EACrBE,EAASb,GAAA,KAAAA,EAAc,EAGvBc,EACJ,CAACP,GAAUA,IAAW,OAClB,GACAA,EACA,cAAcA,IACd,uBAAuBK,aAAiBA,IASxCG,EACJ,gBAAC,aACE,6DAA6DH,4BAAgCH,KAR5EC,EAAe,aAAe,qCAQiGG,uFAA4FC,qNAA6NL,KAPjbC,EAAe,gBAAkB,8IAOgjBE,uBAA2BA,yeACvoB,EAGF,OAAM,YAAU,IAAwC,CAC5C,YAAU,CAClB,YAAaX,GAAA,KAAAA,EAAe,GAC5B,QAASC,GAAA,KAAAA,EAAS,GAClB,aAAcC,GAAA,KAAAA,EAAc,IAC5B,QAASC,GAAA,KAAAA,EAAmB,IAC5B,OAAQC,GAAA,KAAAA,EAAU,OAClB,MAAOC,GAAA,KAAAA,EAAS,IAChB,SACEE,GAAA,KAAAA,EACA,qIACJ,CAAC,EAED,IAAMQ,EAAkBlB,EAAA,IAAgB,QAAM,EAAtB,mBAClBmB,EAAmBnB,EAAA,IAAgB,OAAK,EAAI,EAAzB,oBAEzB,SAAAoB,QAAO,OAAO,GAAG,mBAAoBF,CAAe,EACpD,EAAAE,QAAO,OAAO,GAAG,sBAAuBD,CAAgB,EACxD,EAAAC,QAAO,OAAO,GAAG,mBAAoBD,CAAgB,EAE9C,IAAM,CAEX,EAAAC,QAAO,OAAO,IAAI,mBAAoBF,CAAe,EACrD,EAAAE,QAAO,OAAO,IAAI,sBAAuBD,CAAgB,EACzD,EAAAC,QAAO,OAAO,IAAI,mBAAoBD,CAAgB,CACxD,CACF,EAAG,CAAC,CAAC,EAEEF,CACT,EAtE8B,kBAwE9BlB,EAAe,UAAY,CACzB,MAAiB,SACjB,OAAkB,SAClB,YAAuB,OACvB,MAAiB,OACjB,WAAsB,SACtB,gBAA2B,SAC3B,OAAkB,SAClB,MAAiB,SACjB,SAAoB,SACpB,OAAkB,YAAU,CAAW,SAAkB,MAAI,CAAC,EAC9D,OAAkB,SAClB,aAAwB,MAC1B","names":["pages_exports","__export","PagesTopLoader","__toCommonJS","PropTypes","React","NProgress","import_router","PagesTopLoader","__name","propColor","propHeight","showSpinner","crawl","crawlSpeed","initialPosition","easing","speed","shadow","template","zIndex","showAtBottom","defaultColor","color","height","boxShadow","styles","progressStarted","progressComplete","Router"]}